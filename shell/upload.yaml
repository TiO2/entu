python_preamble:
- import: base64
- import: re
- import: google.appengine.ext.bulkload.transform
- import: google.appengine.ext.bulkload.bulkloader_wizard
- import: google.appengine.ext.db
- import: google.appengine.api.datastore
- import: google.appengine.api.users

transformers:

- kind: Aggregation
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: count
      external_name: count
      import_transform: transform.none_if_empty(int)

    - property: dimensions
      external_name: dimensions

    - property: level
      external_name: level
      import_transform: transform.none_if_empty(int)

    - property: sum
      external_name: sum
      import_transform: transform.none_if_empty(float)

    - property: type
      external_name: type


- kind: Concentration
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string
      import_transform: transform.key_id_or_name_as_string

    - property: curriculum
      external_name: curriculum
      import_transform: transform.create_foreign_key('Curriculum')
      export_transform: transform.key_id_or_name_as_string

    - property: name
      external_name: name
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string


- kind: Contact
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: person
      external_name: person
      import_transform: transform.create_foreign_key('Person')
      export_transform: transform.key_id_or_name_as_string

    - property: type
      external_name: type
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: value
      external_name: value


- kind: Course
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: course_end_date
      external_name: course_end_date
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: course_start_date
      external_name: course_start_date
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: is_feedback_started
      external_name: is_feedback_started
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: subject
      external_name: subject
      import_transform: transform.create_foreign_key('Subject')
      export_transform: transform.key_id_or_name_as_string

    - property: teachers
      external_name: teachers
      import_transform: transform.create_foreign_key('Person')
      export_transform: transform.key_id_or_name_as_string


- kind: Curriculum
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: code
      external_name: code

    - property: degree
      external_name: degree
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: form_of_training
      external_name: form_of_training
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: level_of_education
      external_name: level_of_education
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: name
      external_name: name
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: nominal_credit_points
      external_name: nominal_credit_points
      import_transform: transform.none_if_empty(float)

    - property: nominal_years
      external_name: nominal_years
      import_transform: transform.none_if_empty(int)

    - property: tags
      external_name: tags


- kind: Department
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: academic
      external_name: academic
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: is_academic
      external_name: is_academic
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: name
      external_name: name
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: parent_department
      external_name: parent_department
      import_transform: transform.create_foreign_key('Department')
      export_transform: transform.key_id_or_name_as_string


- kind: Dictionary
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: languages
      external_name: languages

    - property: name
      external_name: name

    - property: value
      external_name: value


- kind: ModuleSubject
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: module
      external_name: module
      import_transform: transform.create_foreign_key('Module')
      export_transform: transform.key_id_or_name_as_string

    - property: subject
      external_name: subject
      import_transform: transform.create_foreign_key('Subject')
      export_transform: transform.key_id_or_name_as_string


- kind: Module
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: name
      external_name: name
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: orientation
      external_name: orientation
      import_transform: transform.create_foreign_key('Orientation')
      export_transform: transform.key_id_or_name_as_string


- kind: OldAuth
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: loginurl
      external_name: loginurl

    - property: logouturl
      external_name: logouturl

    - property: salt
      external_name: salt

    - property: site
      external_name: site


- kind: PersonRole
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: department
      external_name: department
      import_transform: transform.create_foreign_key('Department')
      export_transform: transform.key_id_or_name_as_string

    - property: person
      external_name: person
      import_transform: transform.create_foreign_key('Perosn')
      export_transform: transform.key_id_or_name_as_string

    - property: role
      external_name: role
      import_transform: transform.create_foreign_key('Role')
      export_transform: transform.key_id_or_name_as_string


- kind: Person
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: __searchable_text_index
      external_name: __searchable_text_index

    - property: apps_username
      external_name: apps_username

    - property: birth_date
      external_name: birth_date
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: created
      external_name: created
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: forename
      external_name: forename

    - property: gender
      external_name: gender
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: general
      external_name: general

    - property: google_user_id
      external_name: google_user_id

    - property: idcode
      external_name: idcode

    - property: language
      external_name: language

    - property: last_seen
      external_name: last_seen
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: surname
      external_name: surname


- kind: QuestionAnswer
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: aggregation_date
      external_name: aggregation_date
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: answer
      external_name: answer
      import_transform: db.Text

    - property: course
      external_name: course
      import_transform: transform.create_foreign_key('Course')
      export_transform: transform.key_id_or_name_as_string

    - property: datetime
      external_name: datetime
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: is_mandatory
      external_name: is_mandatory
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: person
      external_name: person
      import_transform: transform.create_foreign_key('Person')
      export_transform: transform.key_id_or_name_as_string

    - property: question
      external_name: question
      import_transform: transform.create_foreign_key('Question')
      export_transform: transform.key_id_or_name_as_string

    - property: question_string
      external_name: question_string

    - property: questionary
      external_name: questionary
      import_transform: transform.create_foreign_key('Questionary')
      export_transform: transform.key_id_or_name_as_string

    - property: questionary_person
      external_name: questionary_person
      import_transform: transform.create_foreign_key('QuestionaryPerson')
      export_transform: transform.key_id_or_name_as_string

    - property: target_person
      external_name: target_person
      import_transform: transform.create_foreign_key('Person')
      export_transform: transform.key_id_or_name_as_string


- kind: Question
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: is_mandatory
      external_name: is_mandatory
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: is_teacher_specific
      external_name: is_teacher_specific
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: name
      external_name: name
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: ordinal
      external_name: ordinal
      import_transform: transform.none_if_empty(int)

    - property: questionary
      external_name: questionary
      import_transform: transform.create_foreign_key('Questionary')
      export_transform: transform.key_id_or_name_as_string

    - property: type
      external_name: type


- kind: QuestionaryPerson
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: course
      external_name: course
      import_transform: transform.create_foreign_key('Course')
      export_transform: transform.key_id_or_name_as_string

    - property: is_completed
      external_name: is_completed
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: person
      external_name: person
      import_transform: transform.create_foreign_key('Person')
      export_transform: transform.key_id_or_name_as_string

    - property: questionary
      external_name: questionary
      import_transform: transform.create_foreign_key('Questionary')
      export_transform: transform.key_id_or_name_as_string


- kind: Questionary
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: description
      external_name: description
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: end_date
      external_name: end_date
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: is_template
      external_name: is_template
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: name
      external_name: name
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: start_date
      external_name: start_date
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')


- kind: Role
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: name
      external_name: name
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: rights
      external_name: rights


- kind: Subject
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: code
      external_name: code

    - property: credit_points
      external_name: credit_points
      import_transform: transform.none_if_empty(float)

    - property: name
      external_name: name
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: rating_scale
      external_name: rating_scale
      import_transform: transform.create_foreign_key('RatingScale')
      export_transform: transform.key_id_or_name_as_string

    - property: tags
      external_name: tags


- kind: Subscription
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: course
      external_name: course
      import_transform: transform.create_foreign_key('Course')
      export_transform: transform.key_id_or_name_as_string

    - property: student
      external_name: student
      import_transform: transform.create_foreign_key('Person')
      export_transform: transform.key_id_or_name_as_string


- kind: Translation
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: __searchable_text_index
      external_name: __searchable_text_index

    - property: dictionary
      external_name: dictionary
      import_transform: transform.create_foreign_key('Dictionary')
      export_transform: transform.key_id_or_name_as_string

    - property: dictionary_name
      external_name: dictionary_name

    - property: language
      external_name: language

    - property: value
      external_name: value


- kind: UserPreferences
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: language
      external_name: language


- kind: User
  connector: csv
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: created
      external_name: created
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: email
      external_name: email

    - property: google_user_id
      external_name: google_user_id

    - property: language
      external_name: language

    - property: last_seen
      external_name: last_seen
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: nickname
      external_name: nickname
      # Type: String Stats: 615 properties of this type in this kind.