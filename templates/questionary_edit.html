{% extends "main.html" %}

{% block head %}
<script src="/javascript/jquery.validate.min.js" type="text/javascript"></script>
{% endblock %}

{% block content %}
<h1>{{ str.edit_questionary }}</h1>

<form id="editQuestionaryForm" action="" method="post">
	<label>{{ str.name }}:</label>
	<input type="text" name="name" value="{{ questionary.name.translate }}" required /><br />
	<label>{{ str.start_date }}:</label>
	<input type="date" name="start_date" value="{{ questionary.start_date }}" /><br />
	<label>{{ str.end_date }}:</label>
	<input type="date" name="end_date" value="{{ questionary.end_date }}" /><br />
	<label>{{ str.description }}:</label>
	<input type="text" name="description" value="{{ questionary.description.translate }}" style="width:350px;" /><br />
	<a href="javascript:void();" id="save_edited" class="button">{{ str.edit }}</a>
</form>

<script type="text/javascript">
    $(document).ready(function(){

        $("#editQuestionaryForm").validate({
            rules: {
                name: {
                    required: true,
                    minlength: 3
                },
            },
            messages: {
                name: {
                    required: "{{ str.form_err_name }}",
                    minlength: jQuery.format("{{ str.form_err_minlength }}")
                },
            },
            submitHandler: function(form) {
   	            form.submit();
            }
        });

        $("#save_edited").click(function() {
            $("#editQuestionaryForm").submit();
        });

    });
</script>
{% endblock %}